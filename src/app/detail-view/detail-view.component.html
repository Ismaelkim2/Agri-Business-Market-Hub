<app-sidebar></app-sidebar>

<div class="container">
  <div class="d-flex justify-content-between align-items-center">
    <div (click)="goBack()" class="back-icon">
      <i class="fa fa-arrow-left text-dark" title="back"></i>
    </div>
    <h2 class="text-center text-success my-1 me-5">{{ cardType | titlecase }} Analysis</h2>
  </div>

  <div class="graph-container my-1">
    <canvas id="graphCanvas"></canvas>
  </div>

  <div class="summary-table my-4" *ngIf="cardType === 'sales'">
    <h3 class="text-center text-success">Sales Summary Table</h3>
    <table class="table table-striped table-bordered">
      <thead class="bg-success text-white">
        <tr>
          <th>Category</th>
          <th>Percentage (%)</th>
          <th>Amount (Kes.)</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of summaryData">
          <td>{{ data.category }}</td>
          <td>{{ data.percentage }}</td>
          <td>{{ data.amount | currency: 'KES' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="table-responsive mt-4" *ngIf="cardType === 'birds'">
    <h3 class="text-center text-success">Bird Records</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Date</th>
          <th>Bird Type</th>
          <th>No.</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let record of birdRecords">
          <td>{{ record.date }}</td>
          <td>{{ record.birdType }}</td>
          <td>{{ record.count }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
